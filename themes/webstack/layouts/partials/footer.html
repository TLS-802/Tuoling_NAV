<script type='text/javascript' id='popper-js-extra'>
var theme = {
    "ajaxurl":"",
    "addico":"https:\/\/nav.baidu.cn\/wp-content\/themes\/onenav\/images\/add.png",
    "order":"asc",
    "formpostion":"top",
    "defaultclass":"io-grey-mode",
    "isCustomize":"1",
    "icourl":"",
    "icopng":".png",
    "urlformat":"1",
    "customizemax":"10",
    "newWindow":"0",
    "minNav":"1",
    "loading":"1",
    "hotWords":"baidu",
    "classColumns":" col-sm-6 col-md-4 col-xl-5a col-xxl-6a ",
};
</script>

<!-- 360前端资源库 https://cdn.baomitu.com/ -->
<script crossorigin="anonymous" integrity="sha384-xBuQ/xzmlsLoJpyjoggmTEz8OWUFM0/RC5BsqQBDX2v5cMvDHcMakNTNrHIW2I5f" src="//lib.baomitu.com/jquery/3.2.1/jquery.min.js"></script>
<script crossorigin="anonymous" integrity="sha512-UfSxwRR8LlT3e4VLW1fx76+guLBWBALrK5mo7aJ92ZGiqGiR2Cu2AWgQ1FMLthwh2MbBVR0PqUCNiG6/QzsQNA==" src="//lib.baomitu.com/limonte-sweetalert2/11.7.27/sweetalert2.all.min.js"></script>
<script crossorigin="anonymous" integrity="sha384-Zm+UU4tdcfAm29vg+MTbfu//q5B/lInMbMCr4T8c9rQFyOv6PlfQYpB5wItcXWe7" src="//lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js"></script>
<script crossorigin="anonymous" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" src="//lib.baomitu.com/popper.js/1.14.7/umd/popper.min.js"></script>
<script crossorigin="anonymous" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" src="//lib.baomitu.com/twitter-bootstrap/4.3.1/js/bootstrap.min.js"></script>

<!-- 自定义 JS -->
{{ $alertify := resources.Get "js/alertify.min.js" | fingerprint}}
<script type='text/javascript' src="{{ $alertify.RelPermalink }}"></script>
{{ $spiderbox := resources.Get "js/spiderbox.js" | fingerprint}}
<script type='text/javascript' src="{{ $spiderbox.RelPermalink }}"></script>
{{ $app := resources.Get "js/app.js" | resources.Minify | fingerprint}}
<script type='text/javascript' src='{{ $app.RelPermalink }}' id='app-js'></script>
{{ $contentSearch := resources.Get "js/content-search.js" | resources.Minify | fingerprint}}
<script type="text/javascript" src="{{ $contentSearch.RelPermalink }}" id="content-search-js"></script>

<script type="text/javascript">
    $(document).ready(function(){
        var siteWelcome = $('#loading');
        siteWelcome.addClass('close');
        setTimeout(function() {
            siteWelcome.remove();
        }, 600);
    });
</script>
<script>        
    $(document).ready(function(){
        setTimeout(function () {
            var hash = window.location.hash;
            if (hash) {
                // 优先检查是否为标签页
                var $tabPane = $(hash);
                if ($tabPane.length && $tabPane.hasClass('tab-pane')) {
                    // 激活标签
                    if (window.activateTabFromHash) {
                        window.activateTabFromHash(hash);
                    }
                    // 滚动到标签容器
                    var $tabsContainer = $('a[href="' + hash + '"][data-toggle="tab"]').closest('.nav-tabs');
                    if ($tabsContainer.length) {
                        $("html, body").animate({
                            scrollTop: $tabsContainer.offset().top - 90
                        }, {
                            duration: 500,
                            easing: "swing"
                        });
                    }
                } else if ($('a.smooth[href="' + hash + '"]')[0]) {
                    // 普通smooth链接
                    $('a.smooth[href="' + hash + '"]').click();
                } else if ($(hash).length) {
                    // 普通锚点滚动
                    $("html, body").animate({
                        scrollTop: $(hash).offset().top - 90
                    }, {
                        duration: 500,
                        easing: "swing"
                    });
                }
            }
        }, 400);
        $(document).on('click','a.smooth',function(ev) {
            if($('#sidebar').hasClass('show') && !$(this).hasClass('change-href')){
                $('#sidebar').modal('toggle');
            }
            
            var href = $(this).attr("href");
            if(href && href.substr(0, 1) == "#"){
                var $target = $(href);
                
                // 检查目标是否为标签面板
                if ($target.length && $target.hasClass('tab-pane')) {
                    // 先激活标签
                    var $tabLink = $('a[href="' + href + '"][data-toggle="tab"]');
                    if ($tabLink.length) {
                        $tabLink.tab('show');
                        
                        // 延迟滚动，确保标签切换完成
                        setTimeout(function() {
                            var $tabsContainer = $tabLink.closest('.nav-tabs');
                            if ($tabsContainer.length) {
                                $("html, body").animate({
                                    scrollTop: $tabsContainer.offset().top - 90
                                }, {
                                    duration: 500,
                                    easing: "swing"
                                });
                            }
                        }, 100);
                        return false; // 阻止默认行为
                    }
                } else {
                    // 普通锚点滚动
                    $("html, body").animate({
                        scrollTop: $target.offset().top - 90
                    }, {
                        duration: 500,
                        easing: "swing"
                    });
                }
            }
            
            if($(this).hasClass('go-search-btn')){
                $('#search-text').focus();
            }
            
            // 只有当目标不是标签面板时，才执行原有的menu逻辑
            if(!$(this).hasClass('change-href') && !($target.length && $target.hasClass('tab-pane'))){
                var menu =  $("a"+$(this).attr("href"));
                if(menu.length){
                    menu.click();
                    toTarget(menu.parent().parent(),true,true);
                }
            }
        });
        $(document).on('click','a.tab-noajax',function(ev) {
            var url = $(this).data('link');
            if(url)
                $(this).parents('.d-flex.flex-fill.flex-tab').children('.btn-move.tab-move').show().attr('href', url);
            else
                $(this).parents('.d-flex.flex-fill.flex-tab').children('.btn-move.tab-move').hide();
        });
        
    });
</script>
<!--<script>
    window.addEventListener('DOMContentLoaded', (event) => {
        const cn = new CanvasNest(document.getElementById('search-bg'), {
            color: '255,255,255',
            pointColor: '255,255,255',
            opacity: 1,
            count: 30,
            zIndex: 1
        });
    });
</script>-->
</body>
</html>

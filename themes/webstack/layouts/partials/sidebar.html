{{ if $.Site.Params.nightMode }}
<body class="io-black-mode">
{{ else }}
<body class="io-grey-mode">
{{ end }}

{{ if $.Site.Params.enablePreLoad }}
<div id="loading">
    <!--<div class="preloader1">{{ $.Site.Params.textPreLoad }}</div>-->
    <div id="preloader2"></div>
</div>
{{ end }}
<div class="page-container">
    <!--    {{ if $.Site.Params.expandSidebar }}-->
    <!--        <div id="sidebar" class="sticky sidebar-nav fade animate-nav" style="width: 170px">-->
    <!--    {{ else }}-->
    <!--        <div id="sidebar" class="sticky sidebar-nav fade mini-sidebar" style="width: 60px;">-->
    <!--    {{ end }}-->
    <div id="sidebar" class="sticky sidebar-nav fade mini-sidebar" style="width: 60px;">
        <div class="modal-dialog h-100 sidebar-nav-inner">
            <div class="sidebar-logo border-bottom border-color">
                <!-- logo -->
                <div class="logo overflow-hidden">
                    <a href="/" class="logo-expanded">
                        <img src="{{ with $.Site.Params.cdnURL }}{{ . }}{{ end }}{{ $.Site.Params.images.logoExpandLight }}"
                             height="55"
                             class="logo-light" alt="{{ .Site.Title }}">
                        <img src="{{ with $.Site.Params.cdnURL }}{{ . }}{{ end }}{{ $.Site.Params.images.logoExpandDark }}"
                             height="55"
                             class="logo-dark d-none" alt="{{ .Site.Title }}">
                    </a>
                    <a href="/" class="logo-collapsed">
                        <img src="{{ with $.Site.Params.cdnURL }}{{ . }}{{ end }}{{ $.Site.Params.images.logoCollapseLight }}"
                             height="35"
                             class="logo-light" alt="{{ .Site.Title }}">
                        <img src="{{ with $.Site.Params.cdnURL }}{{ . }}{{ end }}{{ $.Site.Params.images.logoCollapseDark }}"
                             height="35"
                             class="logo-dark d-none" alt="{{ .Site.Title }}">
                    </a>
                </div>
                <!-- logo end -->
            </div>
            <div class="sidebar-menu flex-fill">
                <div class="sidebar-scroll">
                    <div class="sidebar-menu-inner">
                        <ul>
                            <!-- 移动端搜索按钮 -->
                            <li class="sidebar-item d-md-none">
                                <a href="javascript:" id="search-btn-mobile-sidebar" title="本地搜索">
                                    <i class="fas fa-search fa-lg icon-fw icon-lg mr-2"></i>
                                    <span>本地搜索</span>
                                </a>
                            </li>
                            
                            {{ range .Site.Data.recommend }}
                            {{ if .links }}
                            <li class="sidebar-item">
                                <a href="#{{ md5 .taxonomy }}" class="smooth">
                                    <i class="{{ .icon }} fa-lg icon-fw icon-lg mr-2"></i>
                                    <span>{{ .taxonomy }}</span>
                                </a>
                            </li>
                            {{ end }}
                            {{ end }}

                            {{ range .Site.Data.webstack }}
                            {{ if .list }}
                            {{ $taxonomy := .taxonomy }} <!-- 避免同名二级导航定位不正确的问题 -->
                            <li class="sidebar-item">
                                <!-- 原来是跳转到第一个子目录位置 -->
                                <a href="javascript:void(0)" class="smooth change-href"
                                   data-change="#{{ md5 $taxonomy }}-tab-0">
                                    <i class="{{ .icon }} icon-fw icon-lg mr-2"></i>
                                    <span>{{ .taxonomy }}</span>
                                    <i class="fas fa-chevron-right sidebar-more text-sm"></i>
                                </a>
                                <ul>
                                    {{ range $index, $tab := .tabs }}
                                    <li><a href="#{{ md5 $taxonomy }}-tab-{{ $index }}" class="smooth"><span>{{ $tab.name }}</span></a></li>
                                    {{ end }}
                                </ul>
                            </li>
                            {{ else }}
                            <li class="sidebar-item">
                                <a href="#{{ md5 .taxonomy }}" class="smooth">
                                    <i class="{{ .icon }} fa-lg icon-fw icon-lg mr-2"></i>
                                    <span>{{ .taxonomy }}</span>
                                </a>
                            </li>
                            {{ end }}
                            {{ end }}
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
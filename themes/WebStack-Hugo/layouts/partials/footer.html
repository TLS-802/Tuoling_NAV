{{ $spiderbox := resources.Get "js/spiderbox.js" | fingerprint}}
<script type='text/javascript' src="{{ $spiderbox.RelPermalink }}"></script>

{{ $jquery := resources.Get "js/jquery.ui.touch-punch.min-0.2.2.js" | resources.Minify | fingerprint}}
{{ $clipboard := resources.Get "js/clipboard.min-5.6.2.js" | resources.Minify | fingerprint}}
{{ $tooltip := resources.Get "js/tooltip-extend.js" | resources.Minify | fingerprint}}

<script type='text/javascript' src='{{ $jquery.RelPermalink }}' id='jqueryui-touch-js'></script>
<script type='text/javascript' src='{{ $clipboard.RelPermalink }}' id='clipboard-js'></script>
<script type='text/javascript' src='{{ $tooltip.RelPermalink }}' id='iplaycode-nav-js'></script>
<script type='text/javascript' id='popper-js-extra'>
/* <![CDATA[ */
//var theme = {"ajaxurl":"https:\/\/nav.baidu.com\/wp-admin\/admin-ajax.php","addico":"https:\/\/nav.baidu.cn\/wp-content\/themes\/onenav\/images\/add.png","order":"asc","formpostion":"top","defaultclass":"io-grey-mode","isCustomize":"1","icourl":"https:\/\/api.badi.cn\/favicon\/","icopng":".png","urlformat":"1","customizemax":"10","newWindow":"0","lazyload":"1","minNav":"1","loading":"1","hotWords":"baidu","classColumns":" col-sm-6 col-md-4 col-xl-5a col-xxl-6a ","apikey":"TWpBeU1UVTNOekk1TWpVMEIvZ1M2bFVIQllUMmxsV1dZelkxQTVPVzB3UW04eldGQmxhM3BNWW14bVNtWk4="};
var theme = {"ajaxurl":"","addico":"https:\/\/nav.baidu.cn\/wp-content\/themes\/onenav\/images\/add.png","order":"asc","formpostion":"top","defaultclass":"io-grey-mode","isCustomize":"1","icourl":"","icopng":".png","urlformat":"1","customizemax":"10","newWindow":"0","lazyload":"1","minNav":"1","loading":"1","hotWords":"baidu","classColumns":" col-sm-6 col-md-4 col-xl-5a col-xxl-6a ","apikey":"TWpBeU1UVTNOekk1TWpVMEIvZ1M2bFVIQllUMmxsV1dZelkxQTVPVzB3UW04eldGQmxhM3BNWW14bVNtWk4="};
/* ]]> */
</script>
<!-- 结束 -->

{{ $popper := resources.Get "js/popper.min.js" | resources.Minify | fingerprint}}
{{ $bootstrap := resources.Get "js/bootstrap.min-4.3.1.js" | resources.Minify | fingerprint}}
{{ $theia := resources.Get "js/theia-sticky-sidebar-1.5.0.js" | resources.Minify | fingerprint}}
{{ $lazyload := resources.Get "js/lazyload.min-12.4.0.js" | resources.Minify | fingerprint}}
{{ $fancybox := resources.Get "js/fancybox.min-3.5.7.js" | resources.Minify | fingerprint}}


<script type='text/javascript' src='{{ $popper.RelPermalink }}' id='popper-js'></script>
<script type='text/javascript' src='{{ $bootstrap.RelPermalink }}' id='bootstrap-js'></script>
<script type='text/javascript' src='{{ $theia.RelPermalink }}' id='sidebar-js'></script>
<script type='text/javascript' src='{{ $lazyload.RelPermalink }}' id='lazyload-js'></script>
<script type='text/javascript' src='{{ $fancybox.RelPermalink }}' id='lightbox-js-js'></script>
{{ if $.Site.Params.expandSidebar }}
{{ $appanim := resources.Get "js/app-anim.js" | resources.Minify | fingerprint}}
<script type='text/javascript' src='{{ $appanim.RelPermalink }}' id='appanim-js'></script>
{{ else }}
{{ $appmini := resources.Get "js/app-mini.js" | resources.Minify | fingerprint}}
<script type='text/javascript' src='{{ $appmini.RelPermalink }}' id='appmini-js'></script>
{{ end }}
<script type="text/javascript">
    $(document).ready(function(){
        var siteWelcome = $('#loading');
        siteWelcome.addClass('close');
        setTimeout(function() {
            siteWelcome.remove();
        }, 600);
    });
</script>
<script>        
    $(document).ready(function(){
        setTimeout(function () {
            if ($('a.smooth[href="' + window.location.hash + '"]')[0]) {
                $('a.smooth[href="' + window.location.hash + '"]').click();
            }else if (window.location.hash != '') {
                $("html, body").animate({
                    scrollTop: $(window.location.hash).offset().top - 90
                }, {
                    duration: 500,
                    easing: "swing"
                });
            }
        }, 300);
        $(document).on('click','a.smooth',function(ev) {
            if($('#sidebar').hasClass('show') && !$(this).hasClass('change-href')){
                $('#sidebar').modal('toggle');
            }
            if($(this).attr("href").substr(0, 1) == "#"){
                $("html, body").animate({
                    scrollTop: $($(this).attr("href")).offset().top - 90
                }, {
                    duration: 500,
                    easing: "swing"
                });
            }
            if($(this).hasClass('go-search-btn')){
                $('#search-text').focus();
            }
            if(!$(this).hasClass('change-href')){
                var menu =  $("a"+$(this).attr("href"));
                menu.click();
                toTarget(menu.parent().parent(),true,true);
            }
        });
        $(document).on('click','a.tab-noajax',function(ev) {
            var url = $(this).data('link');
            if(url)
                $(this).parents('.d-flex.flex-fill.flex-tab').children('.btn-move.tab-move').show().attr('href', url);
            else
                $(this).parents('.d-flex.flex-fill.flex-tab').children('.btn-move.tab-move').hide();
        });
        
    });
</script>

<script>
//夜间(日间)模式
(function(){
    if(document.cookie.replace(/(?:(?:^|.*;\s*)night\s*\=\s*([^;]*).*$)|^.*$/, "$1") === ''){
        if(new Date().getHours() > 22 || new Date().getHours() < 6){
            document.body.classList.remove('io-black-mode');
            document.body.classList.add('io-grey-mode');
            document.cookie = "night=1;path=/";
            console.log('夜间模式开启');
        }else{
            document.body.classList.remove('night');
            document.cookie = "night=0;path=/";
            console.log('夜间模式关闭');
        }
    }else{
        var night = document.cookie.replace(/(?:(?:^|.*;\s*)night\s*\=\s*([^;]*).*$)|^.*$/, "$1") || '0';
        if(night == '0'){
            document.body.classList.remove('night');
        }else if(night == '1'){
            document.body.classList.add('night');
        }
    }
})();
//夜间(日间)模式切换
// $("#search-bg").css("background-image", "url({{ $.Site.Params.images.searchImageL }})");   //默认浅色背景
function switchNightMode(){
    var night = document.cookie.replace(/(?:(?:^|.*;\s*)night\s*\=\s*([^;]*).*$)|^.*$/, "$1") || '0';
    if(night == '0'){
	// $("#search-bg").css("background-image", "url({{ $.Site.Params.images.searchImageL }})");
        document.body.classList.remove('io-grey-mode');
        document.body.classList.add('io-black-mode');
        document.cookie = "night=1;path=/"
        console.log(' ');
        $(".switch-dark-mode").attr("data-original-title","日间模式");
        $(".mode-ico").removeClass("icon-night");
        $(".mode-ico").addClass("icon-light");
    }else{
	// $("#search-bg").css("background-image", "url({{ $.Site.Params.images.searchImageD }})")
        document.body.classList.remove('io-black-mode');
        document.body.classList.add('io-grey-mode');
        document.cookie = "night=0;path=/"
        console.log(' ');
        $(".switch-dark-mode").attr("data-original-title","夜间模式");
        $(".mode-ico").removeClass("icon-light");
        $(".mode-ico").addClass("icon-night");
    }
}
</script>
<!-- 弹窗js -->
<script type='text/javascript' src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>


<script>
    // 检查本地存储中的标志位，如果标志位为 true，则不再弹出弹窗
    const shouldShowPopup = localStorage.getItem("shouldShowPopup") !== "false";
    if (shouldShowPopup) {
        // 创建 SweetAlert2 弹窗
        Swal.fire({
            // width: 300,
            title: "欢迎",
            text: "扫码关注站长公众号：爬虫矛与盾",
            showCancelButton: true,
            confirmButtonText: "俺知道了",
            cancelButtonText: "不再弹出",
            confirmButtonColor: "#0084ff",
            imageUrl: "/images/qrcode.jpg",
            // imageWidth: 300,
            // imageHeight: 300,
            imageAlt: "公众号：爬虫矛与盾",
            showClass: {popup: "swal2-show"},
            hideClass: {popup: "swal2-hide"}
        }).then((result) => {
            if (result.isConfirmed) {
                // 用户点击 "关闭" 按钮，什么也不做
            } else {
                // 用户点击 "不再弹出" 按钮，将标志位保存到本地存储
                localStorage.setItem("shouldShowPopup", "false");
            }
        });
        const popupContainer = document.querySelector('.swal2-container');
        popupContainer.style.zIndex = '9999';
    }

    // const popupContainer = document.querySelector('.swal2-container');
    // popupContainer.style.zIndex = '9999';
</script>

<style>
    /* 自定义弹窗样式 */
    .custom-swal-container {
      text-align: left;
      padding: 20px;
      border-radius: 10px;
    }
    .custom-swal-container h3 {
        text-align: center;
        color: #b9316f;
        background-color: #eaeaea;
        border-radius:10px;
        padding: 8px 5px;
    }
    .custom-swal-ol {
      list-style-type: decimal;
      padding-left: 20px;
      margin-top: 10px;
      margin-bottom: 10px;
    }
    .custom-swal-ol li {
      margin-bottom: 10px;
    }
    .custom-swal-ol li span{
      text-align: left;
      font-weight: bold;
      margin-bottom: 5px;
    }
    .custom-swal-date {
      text-align: right;
    }
    .custom-swal-image {
        display: block;
        margin: 2em auto; /* 设置水平居中 */
    }
</style>

<script>
    function getEmail() {
        var emailElement = document.getElementById("showEmail");
        emailElement.innerHTML = atob("YWRtaW5AaXRib2IuY24=");
    }

    document.addEventListener('DOMContentLoaded', function() {
    let popupWidth = '55%'; // 默认宽度

    // 根据屏幕宽度设置不同的弹窗宽度
    if (window.innerWidth < 768) {
    popupWidth = '95%';
    } else {
    popupWidth = '55%';
    }

    const showDisclaimerButton = document.getElementById('show-disclaimer');
    const showSponsorButton = document.getElementById('show-sponsor');
  
    showDisclaimerButton.addEventListener('click', function() {
      Swal.fire({
        html: `
        <div class="custom-swal-container">
            <h3>免责声明</h3>
            <p style="text-align: left;">欢迎使用我们的导航站 [SpiderBox 虫盒]！请在使用本站点之前仔细阅读以下免责声明，要访问和使用本站点，您必须接受以下条款和条件！如果您不同意这些条款和条件，请勿使用本站点！</p>
            <ol class="custom-swal-ol">
                <li>
                    <span>信息准确性</span>
                    <p>本站点提供的导航链接和信息仅供参考，尽管我们努力确保信息的准确性和完整性，但我们不对信息的准确性、完整性、实时性或适用性作出任何明示或暗示的陈述或担保，您应该自行核实和验证您所获得的信息！</p>
                </li>
                <li>
                    <span>使用风险</span>
                    <p>使用本站点提供的导航链接和信息是基于您自己的判断和风险，我们不对您使用本站点导航链接导致的任何损失、损害或不便负责，在使用导航链接之前，请确保您已经充分了解所涉及的风险！</p>
                </li>
                <li>
                    <span>第三方链接</span>
                    <p>本站点包含的所有指向第三方网站的链接仅供您的方便提供，不代表我们对这些第三方网站的认可或担保，我们对这些第三方网站的内容、隐私政策和行为不承担任何责任，您在访问这些链接时需谨慎自负风险！</p>
                </li>
                <li>
                    <span>知识产权和版权</span>
                    <p>本站点为非营利性网站，尊重知识产权和版权，基于互联网之分享精神，如果您认为本站点包含侵犯您的知识产权或版权的内容，请与我们联系，我们会尽快删除或更正相关内容！</p>
                </li>
                <li>
                    <span>法律合规</span>
                    <p>您使用本站点的行为应遵守适用的法律法规，您对任何违反法律法规的行为负有全部责任，我们不对您的任何违法行为负责！</p>
                </li>
                <li>
                    <span>免责声明的变更</span>
                    <p>我们保留随时修改或更新本免责声明的权利，请您定期查阅本页面以获取最新信息！</p>
                </li>
              </ol>

              <h3>联系方式</h3>
              <ol class="custom-swal-ol">
                <li>
                    <span>站长邮箱：</span>
                    <p style="display: inline;margin: 0;" id="showEmail" onclick="getEmail()">点击获取</p>
                </li>
                <li>
                    <span>站长公众号：</span>爬虫矛与盾
                </li>
              </ol>
              <p class="custom-swal-date">2023年08月17日</p>
        </div>
        `,
        width: popupWidth,
        showCancelButton: true,
        confirmButtonText: '同意',
        cancelButtonText: '不同意',
        confirmButtonColor: "#0084ff",
        showClass: {popup: "swal2-show"},
        hideClass: {popup: "swal2-hide"},
        allowOutsideClick: false,
        customClass: {
        //   popup: 'custom-swal-popup'
        container: 'custom-swal-container'
        }
      }).then((result) => {
        if (result.isConfirmed) {
          // 用户点击了 "同意"，关闭弹窗
          Swal.close();
        } else if (result.dismiss === Swal.DismissReason.cancel) {
          // 用户点击了 "不同意"，关闭当前页面
          window.close();
        }
      });

        const popupContainer = document.querySelector('.swal2-container');
        popupContainer.style.zIndex = '9999';

    var showEmailButton = document.getElementById("showEmail");
    showEmailButton.addEventListener("click", function() {
        // 在按钮点击时更新文本内容
        showEmailButton.textContent = "admin@itbob.cn";
    });
    });

    showSponsorButton.addEventListener('click', function() {
      Swal.fire({
        text: "所有打赏、赞助将用于 SpiderBox 的域名、服务器、COS 等项目续费。",
        confirmButtonText: '俺知道了',
        confirmButtonColor: "#0084ff",
        imageWidth: 420,
        imageUrl: "/images/sponsor.png",
        imageAlt: "微信/支付宝收款码",
        showClass: {popup: "swal2-show"},
        hideClass: {popup: "swal2-hide"},
        allowOutsideClick: false,
        customClass: {
            image: 'custom-swal-image' // 添加自定义样式类
        }
      }).then((result) => {
        if (result.isConfirmed) {
          Swal.close();
        }
      });

      const popupContainer = document.querySelector('.swal2-container');
        popupContainer.style.zIndex = '9999';

    var showEmailButton = document.getElementById("showEmail");
    showEmailButton.addEventListener("click", function() {
        // 在按钮点击时更新文本内容
        showEmailButton.textContent = "admin@itbob.cn";
    });
    });

  });
</script>
<script>
    document.addEventListener('DOMContentLoaded', function() {
        const showGroupButton = document.getElementById('show-group');
        showGroupButton.addEventListener('click', function() {
        Swal.fire({
            text: "扫码加入QQ/微信交流群",
            confirmButtonText: '俺知道了',
            confirmButtonColor: "#0084ff",
            imageWidth: 420,
            imageUrl: "/images/group.png",
            imageAlt: "QQ/微信交流群",
            showClass: {popup: "swal2-show"},
            hideClass: {popup: "swal2-hide"},
            allowOutsideClick: false,
            customClass: {
                image: 'custom-swal-image' // 添加自定义样式类
            }
        }).then((result) => {
            if (result.isConfirmed) {
                Swal.close();
            }
        });
    
        const popupContainer = document.querySelector('.swal2-container');
        popupContainer.style.zIndex = '9999';
    })
    })
    
</script>
</body>
</html>

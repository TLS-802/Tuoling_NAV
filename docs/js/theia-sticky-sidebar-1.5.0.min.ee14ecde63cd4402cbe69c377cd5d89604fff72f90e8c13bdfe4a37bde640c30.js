/*!
 * Theia Sticky Sidebar v1.5.0
 * https://github.com/WeCodePixels/theia-sticky-sidebar
 *
 * Glues your website's sidebars, making them permanently visible while scrolling.
 *
 * Copyright 2013-2016 WeCodePixels and other contributors
 * Released under the MIT license
 */(function(e){e.fn.theiaStickySidebar=function(t){var o={containerSelector:"",additionalMarginTop:0,additionalMarginBottom:0,updateSidebarHeight:!0,minWidth:0,disableOnResponsiveLayouts:!0,sidebarBehavior:"modern"};t=e.extend(o,t),t.additionalMarginTop=parseInt(t.additionalMarginTop)||0,t.additionalMarginBottom=parseInt(t.additionalMarginBottom)||0,i(t,this);function i(t,s){var o=n(t,s);o||(console.log("TSS: Body width smaller than options.minWidth. Init is delayed."),e(document).scroll(function(t,s){return function(o){var i=n(t,s);i&&e(this).unbind(o)}}(t,s)),e(window).resize(function(t,s){return function(o){var i=n(t,s);i&&e(this).unbind(o)}}(t,s)))}function n(t,n){return t.initialized===!0||!(e("body").width()<t.minWidth)&&(a(t,n),!0)}function a(t,n){t.initialized=!0,e("head").append(e('<style>.theiaStickySidebar:after {content: ""; display: table; clear: both;}</style>')),n.each(function(){var o,i,r,n={};n.sidebar=e(this),n.options=t||{},n.container=e(n.options.containerSelector),n.container.length==0&&(n.container=n.sidebar.parent()),n.sidebar.parents().css("-webkit-transform","none"),n.sidebar.css({position:"relative",overflow:"visible","-webkit-box-sizing":"border-box","-moz-box-sizing":"border-box","box-sizing":"border-box"}),n.stickySidebar=n.sidebar.find(".theiaStickySidebar"),n.stickySidebar.length==0&&(r=/(?:text|application)\/(?:x-)?(?:javascript|ecmascript)/i,n.sidebar.find("script").filter(function(e,t){return t.type.length===0||t.type.match(r)}).remove(),n.stickySidebar=e("<div>").addClass("theiaStickySidebar").append(n.sidebar.children()),n.sidebar.append(n.stickySidebar)),n.marginBottom=parseInt(n.sidebar.css("margin-bottom")),n.paddingTop=parseInt(n.sidebar.css("padding-top")),n.paddingBottom=parseInt(n.sidebar.css("padding-bottom")),o=n.stickySidebar.offset().top,i=n.stickySidebar.outerHeight(),n.stickySidebar.css("padding-top",1),n.stickySidebar.css("padding-bottom",1),o-=n.stickySidebar.offset().top,i=n.stickySidebar.outerHeight()-i-o,o==0?(n.stickySidebar.css("padding-top",0),n.stickySidebarPaddingTop=0):n.stickySidebarPaddingTop=1,i==0?(n.stickySidebar.css("padding-bottom",0),n.stickySidebarPaddingBottom=0):n.stickySidebarPaddingBottom=1,n.previousScrollTop=null,n.fixedScrollTop=0,a(),n.onScroll=function(n){if(!n.stickySidebar.is(":visible"))return;if(e("body").width()<n.options.minWidth){a();return}if(n.options.disableOnResponsiveLayouts){var o,i,r,l,d,u,h,m,f,p,g,v,b,j,y,_,w=n.sidebar.outerWidth(n.sidebar.css("float")=="none");if(w+50>n.container.width()){a();return}}i=e(document).scrollTop(),r="static",i>=n.sidebar.offset().top+(n.paddingTop-n.options.additionalMarginTop)&&(_=n.paddingTop+t.additionalMarginTop,j=n.paddingBottom+n.marginBottom+t.additionalMarginBottom,f=n.sidebar.offset().top,p=n.sidebar.offset().top+c(n.container),u=0+t.additionalMarginTop,g=n.stickySidebar.outerHeight()+_+j<e(window).height(),g?d=u+n.stickySidebar.outerHeight():d=e(window).height()-n.marginBottom-n.paddingBottom-t.additionalMarginBottom,v=f-i+n.paddingTop,b=p-i-n.paddingBottom-n.marginBottom,o=n.stickySidebar.offset().top-i,h=n.previousScrollTop-i,n.stickySidebar.css("position")=="fixed"&&n.options.sidebarBehavior=="modern"&&(o+=h),n.options.sidebarBehavior=="stick-to-top"&&(o=t.additionalMarginTop),n.options.sidebarBehavior=="stick-to-bottom"&&(o=d-n.stickySidebar.outerHeight()),h>0?o=Math.min(o,u):o=Math.max(o,d-n.stickySidebar.outerHeight()),o=Math.max(o,v),o=Math.min(o,b-n.stickySidebar.outerHeight()),m=n.container.height()==n.stickySidebar.outerHeight(),!m&&o==u?r="fixed":!m&&o==d-n.stickySidebar.outerHeight()?r="fixed":i+o-n.sidebar.offset().top-n.paddingTop<=t.additionalMarginTop?r="static":r="absolute"),r=="fixed"?(y=e(document).scrollLeft(),n.stickySidebar.css({position:"fixed",width:s(n.stickySidebar)+"px",transform:"translateY("+o+"px)",left:n.sidebar.offset().left+parseInt(n.sidebar.css("padding-left"))-y+"px",top:"0px"})):r=="absolute"?(l={},n.stickySidebar.css("position")!="absolute"&&(l.position="absolute",l.transform="translateY("+(i+o-n.sidebar.offset().top-n.stickySidebarPaddingTop-n.stickySidebarPaddingBottom)+"px)",l.top="0px"),l.width=s(n.stickySidebar)+"px",l.left="",n.stickySidebar.css(l)):r=="static"&&a(),r!="static"&&n.options.updateSidebarHeight==!0&&n.sidebar.css({"min-height":n.stickySidebar.outerHeight()+n.stickySidebar.offset().top-n.sidebar.offset().top+n.paddingBottom}),n.previousScrollTop=i},n.onScroll(n),e(document).scroll(function(e){return function(){e.onScroll(e)}}(n)),e(window).resize(function(e){return function(){e.stickySidebar.css({position:"static"}),e.onScroll(e)}}(n));function a(){n.fixedScrollTop=0,n.sidebar.css({"min-height":"1px"}),n.stickySidebar.css({position:"static",width:"",transform:"none"})}function c(t){var n=t.height();return t.children().each(function(){n=Math.max(n,e(this).height())}),n}})}function s(e){var t;try{t=e[0].getBoundingClientRect().width}catch{}return typeof t=="undefined"&&(t=e.width()),t}}})(jQuery)